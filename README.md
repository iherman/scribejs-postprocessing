# Extract resolutions from minutes generated by [scribejs](https://github.com/w3c/scribejs)

The approach is to extract the resolutions from the generated (markdown) files, as generated by [scribejs](https://github.com/w3c/scribejs) and to create a JSON file in the repository (typically in the `assets` directory, but that can be configured) listing the resolutions and the pointers to the minutes. This is done by the

```
node main.js
```

command, using the list of repositories in `lib/config.js`. An example for the generated JSON file is `assets/resolutions.js`; its structure is as follows:

```text
{
    "date" : // Date of the last generation,
    "short_names" : [
        // Array of the file names for the minutes that have already been processed
    ],
    "resolutions" : [
        {
            "year"   : // year of the meeting,
            "date"   : // date of the meeting,
            "number" : // index of the resolution for that meeting
            "text"   : // text of the resolution, formatted in HTML
            "url"    : // pointer to the minutes where the resolution was discussed
            "call"   : // the "call" (essentially the IRC channel name) for that meeting
        }
        ... // and entry for each resolution
    ]
}
```

The script avoids unnecessary network access by only generating the entries for _new_ (i.e., not yet processed) meetings.

The `assets/resolutions.js` file can be used by a client-side script to display the list of resolutions. See, for example, the `browser_view/resolutions.html` file, with the corresponding `browser_view/resolution_view.js` script.

(The `_minutes` and `_assets` directories are only for testing purposes. See also the [API documentation](https://iherman.github.io/scribejs-resolutions/) for further details.)

---

Maintainer: [Ivan Herman](https://github.com/iherman)
